\begin{figure}[h]
  \begin{center}
    \begin{tikzpicture}

      \node[draw, rectangle, minimum width=4cm] (source) {Source File};
      \node[draw, rectangle, minimum width=4cm, below=0.7cm of source] (lexer) {\lexer};
      \node[draw, rectangle, minimum width=4cm, below=0.7cm of lexer] (parser)
        {\parser};
      \node[draw, rectangle, minimum width=4cm, below=0.7cm of parser, align=center]
        (static) {\static\\[0.5em] % Increased height to accommodate inner nodes
      % Inner nodes for Type Checker and Borrow Checker
      \begin{tikzpicture}
        \node[draw, rectangle, minimum width=3.5cm, align=center]
          (typeChecker) {\typeChecker};
        \node[draw, rectangle, minimum width=3.5cm, below=0.2cm of
          typeChecker, align=center] (borrowChecker) {\borrowChecker};

        \draw[->,thick] (typeChecker) -- (borrowChecker){}; 

      \end{tikzpicture}
      };
      \node[draw, rectangle, minimum width=4cm, below=0.7cm of static]
      (codeGen) {\codeGen};
      \node[draw, rectangle, minimum width=4cm, below=0.7cm of codeGen]
      (object) {\gcc};
      \node[draw, rectangle, minimum width=4cm, below=0.7cm of object] (exec) {Executable};


      \draw[->,thick] (source) -- (lexer) node[midway, right] {Source Code};
      \draw[->,thick] (lexer) -- (parser) node[midway, right] {Token Stream};
      \draw[->,thick] (parser) -- (static) node[midway, right] {AST};
      \draw[->,thick] (static) -- (codeGen) node[midway, right] {AST};
      \draw[->,thick] (codeGen) -- (object) node[midway, right] {Object File};
      \draw[->,thick] (object) -- (exec) node[midway, right] {Binary Code}; 
    \end{tikzpicture}
  \end{center}
  \caption{The compiler pipeline, transforming source code into an executable.}
  \label{fig:CompilerProcess}
\end{figure}
